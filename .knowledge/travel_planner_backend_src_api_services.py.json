{"is_source_file": true, "format": "Python", "description": "This file contains service functions for managing travel-related entities such as trips, destinations, itinerary items, accommodations, transports, and notes within a backend API. It handles CRUD operations and pagination for each entity, interfacing with SQLAlchemy models and session.", "external_files": ["src.api.models"], "external_methods": ["sqlalchemy.orm.Session", "sqlalchemy.orm.Query"], "published": ["list_trips", "create_trip", "get_trip", "update_trip", "delete_trip", "list_destinations", "create_destination", "get_destination", "update_destination", "delete_destination", "list_itinerary_items", "create_itinerary_item", "get_itinerary_item", "update_itinerary_item", "delete_itinerary_item", "list_accommodations", "create_accommodation", "get_accommodation", "update_accommodation", "delete_accommodation", "list_transport", "create_transport", "get_transport", "update_transport", "delete_transport", "list_notes", "create_note", "get_note", "update_note", "delete_note"], "classes": [], "methods": [{"name": "Tuple[Sequence,int] _paginate(q: Query, offset: int, limit: int)", "description": "Internal helper function to apply pagination to a SQLAlchemy query, returning items and total count.", "scope": "", "scopeKind": ""}, {"name": "models.Accommodation create_accommodation(db: Session, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Destination create_destination(db: Session, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.ItineraryItem create_itinerary_item(db: Session, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Note create_note(db: Session, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Transport create_transport(db: Session, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Trip create_trip(db: Session, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None delete_accommodation(db: Session, acc: models.Accommodation)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None delete_destination(db: Session, dest: models.Destination)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None delete_itinerary_item(db: Session, item: models.ItineraryItem)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None delete_note(db: Session, note: models.Note)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None delete_transport(db: Session, transport: models.Transport)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "None delete_trip(db: Session, trip: models.Trip)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[models.Accommodation] get_accommodation(db: Session, acc_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[models.Destination] get_destination(db: Session, destination_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[models.ItineraryItem] get_itinerary_item(db: Session, item_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[models.Note] get_note(db: Session, note_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[models.Transport] get_transport(db: Session, transport_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[models.Trip] get_trip(db: Session, trip_id: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[List[models.Accommodation],int] list_accommodations(db: Session, trip_id: Optional[int], offset: int, limit: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[List[models.Destination],int] list_destinations(db: Session, trip_id: Optional[int], offset: int, limit: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[List[models.ItineraryItem],int] list_itinerary_items( db: Session, trip_id: Optional[int], destination_id: Optional[int], offset: int, limit: int, )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[List[models.Note],int] list_notes(db: Session, trip_id: Optional[int], offset: int, limit: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[List[models.Transport],int] list_transport(db: Session, trip_id: Optional[int], offset: int, limit: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[List[models.Trip],int] list_trips(db: Session, offset: int, limit: int)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Accommodation update_accommodation(db: Session, acc: models.Accommodation, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Destination update_destination(db: Session, dest: models.Destination, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.ItineraryItem update_itinerary_item(db: Session, item: models.ItineraryItem, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Note update_note(db: Session, note: models.Note, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Transport update_transport(db: Session, transport: models.Transport, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "models.Trip update_trip(db: Session, trip: models.Trip, data: dict)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["db.query", "q.count", "q.offset", "q.limit", "q.all", "db.add", "db.commit", "db.refresh", "db.get", "db.delete"], "search-terms": ["api services", "CRUD operations", "pagination", "SQLAlchemy ORM", "travel planner backend", "destination filtering", "trip management"], "state": 2, "file_id": 9, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "_paginate", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def _paginate(q: Query, offset: int, limit: int) -> Tuple[Sequence, int]:$/", "language": "Python", "typeref": "typename:Tuple[Sequence,int]", "kind": "function", "signature": "(q: Query, offset: int, limit: int)"}, {"_type": "tag", "name": "create_accommodation", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def create_accommodation(db: Session, data: dict) -> models.Accommodation:$/", "language": "Python", "typeref": "typename:models.Accommodation", "kind": "function", "signature": "(db: Session, data: dict)"}, {"_type": "tag", "name": "create_destination", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def create_destination(db: Session, data: dict) -> models.Destination:$/", "language": "Python", "typeref": "typename:models.Destination", "kind": "function", "signature": "(db: Session, data: dict)"}, {"_type": "tag", "name": "create_itinerary_item", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def create_itinerary_item(db: Session, data: dict) -> models.ItineraryItem:$/", "language": "Python", "typeref": "typename:models.ItineraryItem", "kind": "function", "signature": "(db: Session, data: dict)"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def create_note(db: Session, data: dict) -> models.Note:$/", "language": "Python", "typeref": "typename:models.Note", "kind": "function", "signature": "(db: Session, data: dict)"}, {"_type": "tag", "name": "create_transport", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def create_transport(db: Session, data: dict) -> models.Transport:$/", "language": "Python", "typeref": "typename:models.Transport", "kind": "function", "signature": "(db: Session, data: dict)"}, {"_type": "tag", "name": "create_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def create_trip(db: Session, data: dict) -> models.Trip:$/", "language": "Python", "typeref": "typename:models.Trip", "kind": "function", "signature": "(db: Session, data: dict)"}, {"_type": "tag", "name": "delete_accommodation", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def delete_accommodation(db: Session, acc: models.Accommodation) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session, acc: models.Accommodation)"}, {"_type": "tag", "name": "delete_destination", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def delete_destination(db: Session, dest: models.Destination) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session, dest: models.Destination)"}, {"_type": "tag", "name": "delete_itinerary_item", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def delete_itinerary_item(db: Session, item: models.ItineraryItem) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session, item: models.ItineraryItem)"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def delete_note(db: Session, note: models.Note) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session, note: models.Note)"}, {"_type": "tag", "name": "delete_transport", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def delete_transport(db: Session, transport: models.Transport) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session, transport: models.Transport)"}, {"_type": "tag", "name": "delete_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def delete_trip(db: Session, trip: models.Trip) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db: Session, trip: models.Trip)"}, {"_type": "tag", "name": "get_accommodation", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def get_accommodation(db: Session, acc_id: int) -> Optional[models.Accommodation]:$/", "language": "Python", "typeref": "typename:Optional[models.Accommodation]", "kind": "function", "signature": "(db: Session, acc_id: int)"}, {"_type": "tag", "name": "get_destination", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def get_destination(db: Session, destination_id: int) -> Optional[models.Destination]:$/", "language": "Python", "typeref": "typename:Optional[models.Destination]", "kind": "function", "signature": "(db: Session, destination_id: int)"}, {"_type": "tag", "name": "get_itinerary_item", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def get_itinerary_item(db: Session, item_id: int) -> Optional[models.ItineraryItem]:$/", "language": "Python", "typeref": "typename:Optional[models.ItineraryItem]", "kind": "function", "signature": "(db: Session, item_id: int)"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def get_note(db: Session, note_id: int) -> Optional[models.Note]:$/", "language": "Python", "typeref": "typename:Optional[models.Note]", "kind": "function", "signature": "(db: Session, note_id: int)"}, {"_type": "tag", "name": "get_transport", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def get_transport(db: Session, transport_id: int) -> Optional[models.Transport]:$/", "language": "Python", "typeref": "typename:Optional[models.Transport]", "kind": "function", "signature": "(db: Session, transport_id: int)"}, {"_type": "tag", "name": "get_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def get_trip(db: Session, trip_id: int) -> Optional[models.Trip]:$/", "language": "Python", "typeref": "typename:Optional[models.Trip]", "kind": "function", "signature": "(db: Session, trip_id: int)"}, {"_type": "tag", "name": "list_accommodations", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def list_accommodations(db: Session, trip_id: Optional[int], offset: int, limit: int) -> Tuple[L/", "language": "Python", "typeref": "typename:Tuple[List[models.Accommodation],int]", "kind": "function", "signature": "(db: Session, trip_id: Optional[int], offset: int, limit: int)"}, {"_type": "tag", "name": "list_destinations", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def list_destinations(db: Session, trip_id: Optional[int], offset: int, limit: int) -> Tuple[Lis/", "language": "Python", "typeref": "typename:Tuple[List[models.Destination],int]", "kind": "function", "signature": "(db: Session, trip_id: Optional[int], offset: int, limit: int)"}, {"_type": "tag", "name": "list_itinerary_items", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def list_itinerary_items($/", "language": "Python", "typeref": "typename:Tuple[List[models.ItineraryItem],int]", "kind": "function", "signature": "( db: Session, trip_id: Optional[int], destination_id: Optional[int], offset: int, limit: int, )"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def list_notes(db: Session, trip_id: Optional[int], offset: int, limit: int) -> Tuple[List[model/", "language": "Python", "typeref": "typename:Tuple[List[models.Note],int]", "kind": "function", "signature": "(db: Session, trip_id: Optional[int], offset: int, limit: int)"}, {"_type": "tag", "name": "list_transport", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def list_transport(db: Session, trip_id: Optional[int], offset: int, limit: int) -> Tuple[List[m/", "language": "Python", "typeref": "typename:Tuple[List[models.Transport],int]", "kind": "function", "signature": "(db: Session, trip_id: Optional[int], offset: int, limit: int)"}, {"_type": "tag", "name": "list_trips", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def list_trips(db: Session, offset: int, limit: int) -> Tuple[List[models.Trip], int]:$/", "language": "Python", "typeref": "typename:Tuple[List[models.Trip],int]", "kind": "function", "signature": "(db: Session, offset: int, limit: int)"}, {"_type": "tag", "name": "update_accommodation", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def update_accommodation(db: Session, acc: models.Accommodation, data: dict) -> models.Accommoda/", "language": "Python", "typeref": "typename:models.Accommodation", "kind": "function", "signature": "(db: Session, acc: models.Accommodation, data: dict)"}, {"_type": "tag", "name": "update_destination", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def update_destination(db: Session, dest: models.Destination, data: dict) -> models.Destination:$/", "language": "Python", "typeref": "typename:models.Destination", "kind": "function", "signature": "(db: Session, dest: models.Destination, data: dict)"}, {"_type": "tag", "name": "update_itinerary_item", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def update_itinerary_item(db: Session, item: models.ItineraryItem, data: dict) -> models.Itinera/", "language": "Python", "typeref": "typename:models.ItineraryItem", "kind": "function", "signature": "(db: Session, item: models.ItineraryItem, data: dict)"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def update_note(db: Session, note: models.Note, data: dict) -> models.Note:$/", "language": "Python", "typeref": "typename:models.Note", "kind": "function", "signature": "(db: Session, note: models.Note, data: dict)"}, {"_type": "tag", "name": "update_transport", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def update_transport(db: Session, transport: models.Transport, data: dict) -> models.Transport:$/", "language": "Python", "typeref": "typename:models.Transport", "kind": "function", "signature": "(db: Session, transport: models.Transport, data: dict)"}, {"_type": "tag", "name": "update_trip", "path": "/home/kavia/workspace/code-generation/travel-planner-pro-50904-50914/travel_planner_backend/src/api/services.py", "pattern": "/^def update_trip(db: Session, trip: models.Trip, data: dict) -> models.Trip:$/", "language": "Python", "typeref": "typename:models.Trip", "kind": "function", "signature": "(db: Session, trip: models.Trip, data: dict)"}], "hash": "fbc8a7f8e54253af246f43d4be774270", "format-version": 4, "code-base-name": "travel_planner_backend", "filename": "travel_planner_backend/src/api/services.py", "revision_history": [{"27": ""}]}